#
# list of functions and variables to remove completely
# to remove a range, list beginning and ending function separated by - (minus)
# ranges are semi-open, just like in C++
#

@remove
# procs
__int_3 - SelectAndShowSquadToView
Initialization - RingABell
cseg_1994F
ExitOptions - SaveOptions
OptionsMenuBeforeDraw
ValidateHilPointerAdd - SaveHighlightsPointers
FindFiles
ShowRestOfPics - StartingMatch
InitMenuEntry - Int2Ascii
QuitToDosPromptLoop - SWOSMainMenuInit
SetCameraCoordinates - ScrollToCurrent

# game loop
GameLoop
SpinBig_S_Sprite
KeepStatisticsOnScreen
UpdateTeamControls
ClearSaveFlagForGoalSprites - BookPlayer
copySpriteAllowAND - stateGoal
commentaryOff

# advertisements
CopyAdvertisementsData - BumpAllPlayersLastPlayedHalfAtGameStart

# result
team1Scorers - resultTimer
team1Scorer2Sprite - team2Scorer1Sprite
team2Scorer2Sprite - playerMarkSprite
team1NameLength - dseg_114C96

# sprites
aSprite_dat
UnchainSpriteInMenus - DrawEmptyMenuItem
ClearSprite - ClearBackground
DrawTeamNameSprites - PrepareMenuForFadeIn
SortSprites
MakeSpritesFromPlayerNames - AI_SetControlsDirection
chainfontDestBuffer
dseg_17D8EB - secondsSwitchAccumulator
dseg_166760 - menuItemColorTable
numberBuffer - prevLastPlayer
allSpritesArray - lastSelectedTeam
numSpritesToRender

# game init & sprite coloring
LoadSpritesAndFixOffsets
ConvertColorsAndTextSprites - DrawControlledPlayerNumbers
teamFilenamesTable - ingameTeamPlayerOffsets
team1Filename - fireCounter
team1Ptr - aCharset_dat
spriteFixupFlag - g_skipNonCompetitionFiles
# do not touch these, they overlap with DIY competition buffer
#topTeamSaved - numSpritesToRender
playerCardChances3min - ballOutOfGameTimer
unreferencedTeamDatTable - yellowCardTable
gameLenSecondsTable - pitchTypeSeasonalProbabilities
team1MostFrequentFace - showingStats
#whiteGuyConvertTable - pitchNumberAndType #ref: FillSkinColorConversionTable
ballSpeedBounceFactorTable - gravityConstant
dseg_17184E

# pitches
ReadPitchFile - ActivateReferee
ResetAnimatedPatterns - cseg_63919
ScrollPitch - InitBackground
SwapTwoRandomIndicesFromAnimPatternsTable
# also removes game initialization error strings
aChris_0 - aDataPoolplyr_d
aGrafsLoader00_ - convertKeysTable
g_pitchPatterns - setupDatBuffer
#g_pitchPatterns - EGA_graphics
aPitch1_blk - big_S_pictureIndexArray
fansSidesSwapped
pitchFansConvertTable
drawSpritesWriteOnly - vsPtr
animPatternsRandomTable - patternsGoalCounter
animPatternsIndex - animPatternsState

# color palette
cseg_1761C - PlayCrowdNoiseSample
dseg_17192A - optionsMenu

# InputText
InputTextKeyLoop - InitUserTactics
g_inputtingText
g_allowExtraCharsFlag
inMenuKeyboardBuffer
g_videoSpeedIndex

# menus
SWOS
MainMenu
InitMainMenu
InitMainMenuStuff
MenuProc
UnpackMenu
RestorePreviousMenu
DrawSelected - DrawMenuItemBackground
DrawMenuItemOuterFrame
cseg_1E1A6
outerFrameColorsTable
g_currentMenuPtr
menuStatus
menuTextBlinkCounter
deadInputTextVar - shirtColorTable
DrawMenuText - GetTextWidth
controlsHeldTimer
lastControls

# CD ROM routines
# removes select files menu functions as well
FindFirstFile - SelectFileToSaveDialog

# controls/joypads
VerifyJoypadControls - InitMenuMusic
JoyKeyOrCtrlPressed - cseg_87D60
#pl1LastFired - pl2ShortFireCounter
pl1LastFired - pl1Fire
pl1UpRight - pl1Direction
pl2LastFired - pl2Fire
pl2UpRight - pl2Direction
pl2FireCounter
# this currently only lives as write only, to be removed when possible
#keyboardControlFlags

# commentary & SFX
PlayCommentarySample
PlaySampleFromTable
commentarySampleHandle
PlayHitFrameComment
SetVolumeOrStopChants
PlayGoodJumpHeaderComment
PlayFansChant4lSample

# music
ChangeMenuMusic
LoadTitleAndStartMusic

# intro, chairman and win/lose animations
LoadChairmanAnimation - LoadAndPlayEndGameComment
InitIntroAnimation - SWOS
FadeAndPlayRelegatedAnimation - PlayNewSeasonAnimations
# merge with top range
PlayChairmanAnimation - JoyKeyOrCtrlPressed
soccerBinHandle
soccerBinPtr

# big removal: all the EGA crap + AIL + C-lib
EGAFlip - SetEGAPalette
EGA_GetVisibleScreenPtr - dseg
dataStart - aChairmanScenes
introTeamChantIndices - aSfxPierceM158_
headerSamples - PIT_countdown
aSwos_xmi - timerBoolean
aAsave_256 - dosMemSegment
# this removes CD-ROM and pitch routines too
PlaySwosXmi - ConvertSpriteColors
cseg_18236 - TurnCrowdChantsOn
dseg_16AECB
dosVariablesStart - dseg_185BA8
dseg_185BA8
PlayStartGameSample - EnqueueCornerSample
sfxLowerQualityTable - introTeamChantsTable
aSfxFx11Bgcrd3l - aSfxFxCombrown_

# bench
InitCurrentGoalHighlight
EnqueueTacticsChangedSample - EnqueueRedCardSample
subsWriteOnly
subControlsSwapped - g_inSubstitutesMenu
benchOff - g_waitForPlayerToGoInTimer
g_benchXLimit - plComingX
benchWriteOnly02 - g_substituteInProgress
g_benchPlayerIndex - seed
g_goToSubsTimer
benchTeamCheckTimer
# also includes goal minute placeholder strings
playerNumberString - pitchNumbersTable
substitutedPlX - passOrKick
tacticsStringTable - avgTeamValueBases

# stats + bench
WriteStatsNumber - SaveCoordinatesForHighlights

# random number generator
randXorIndex - paused

# misc. variables
prevVideoMode
linAdr120k - linAdr982k
handle982k - g_workingPalette
maxKbInMaxBlock
nextEntryDirectionOffsets
g_fadePalette - convertedKey
# select files menu
dta - dseg_17FCB8
aBenc2_dat
aDemo_dat
# extend this range when removing options menu
aDemo1_car - friendlyGameMenu
optionsMenu - pitchTypeStrTable
menuX - g_spriteGraphicsPtr
menuSize - g_exitMenu
europeanChampionshipMenu - versusMenu
teamSwitchCounter
currentLine
nextCameraDirections
cameraXMod320 - g_oldCameraX

# highlights
HighlightsMenu
HighlightsMenuInit - ViewHighlightsWrapper
LoadHilFile - SetTeamGlobalNumbers
IncrementHilBufferPointer
DrawReplayOrExitMenu - PlayInstantReplayLoop
dseg_1327EE

# CD ROM variables
dosMemSegment
dosMemSelector
dosMemLinAdr - aSensibleWorldOfSoccerV2_0


#
# turn these into null procs, consisting of retn only
#

@null
DummyProc01
ProgramPIT
cseg_67646

# sound
InitMenuMusic

# sprites
ChainFont
InitSavedSprites
ConvertSpriteColors
ClearBackground
CopyWholeSprite

# pitch patterns
InitBackground
ResetAnimatedPatternsForBothTeams

# color palette
SetEGAPalette
FadeOutToBlack
FadeOut

# animations
FadeAndPlayWinCupAnimation
FadeAndPlayWinMatchAnimation
FadeAndPlayLoseMatchAnimation
FadeAndPlayLoseCupAnimation
PlayNewSeasonAnimations
PlayChairmanScene


#
# replace variable's content with what's given here
#

@replace
# be careful when changing strings in string pool, as offsets must not change

# make sounds/music/commentary all ON by default
g_soundOff, 0
g_musicOff, 0
g_menuMusic, 1
g_commentary, 1

# make room for long filenames (though it will be limited by the UI)
hilFilename, 256 dup(0)
competitionFilename, 256 dup(0)
importTacticsFilename, 256 dup(0)


#
# [obsolete along with x86 ASM version]
#
# these functions destroy registers C++ assumes will not change with a function call,
# so inject the code to save and restore them
# warning! do not to list procs with multiple exit points (i.e. that can jump to other procs)
# note:
#   always include or exclude both DrawSprite and DrawSpriteCentered, since later jumps into former
#

@save-regs
MainKeysCheck
HandleInstantReplayStateSwitch
RestoreCameraPosition
FadeIn
FadeAndSaveReplay
CommonMenuExit
CalcMenuEntryAddress
SetCurrentEntry
ZeroOutStars
SetDefaultNameAndSurname
InitHighestScorersTable
InitUserTactics
SetHilFileHeader
InitDisplaySprites
EndFirstHalf
BumpAllPlayersLastPlayedHalfAtGameStart
BumpAllPlayersLastPlayedHalfPostGame
EndOfGame
EndFirstExtraTime
StartPenalties
StartFirstExtraTime


#
# list of symbols to export to header so they can be accessible from C++
# inside ASM files they will be prefixed with underscore, and made public
# syntax for generating SWOS C++ header files is:
# <symbol> [, function |, (array | pointer | ptr | functionPointer) <type>['['<size>']'] |, <type>] [(align: <n>)]
#

@export

# controls
menuControlsDirection, int16_t
menuControlsDirection2, int16_t
fire, word
shortFire, word
longFireTime, word
longFireFlag, word
up, byte
down, byte
left, byte
right, byte
pl1Fire, byte
pl2Fire, byte
pl1SecondaryFire, byte
pl2SecondaryFire, byte
pl1Direction, word
pl2Direction, word
g_pl1ControlFlags, word
g_pl2ControlFlags, word
g_joy1X, word
g_joy1Y, word
g_joy2X, word
g_joy2Y, word
lastKey, word
convertedKey, byte
convertKeysTable, array const char[110]
statsFireExit, word
fireCounter, int16_t
skipFireEveryOtherFrame, word
pl1SkipFireCounter, word
leaveFireFlag, word
pl2SkipFireCounter, word

# menus
CommonMenuExit, function
SetExitMenuFlag, function
CalcMenuEntryAddress, function
ShowErrorMenu, function
DoContinueAbortMenu, function
# enforce dword alignment
g_currentMenu, array char[6500] (align: 4)
previousMenuItem, MenuEntry *
g_exitMenu, word
menuFade, word
menuCycleTimer, word
kColorTableShine, array word[8]
menuCursorFrame, word

# main menu
SWOSMainMenuInit, function
EditTacticsMenu, function
FriendlyMenu, function
DIYCompetitionMenu, function
PresetCompetitionMenu, function
SeasonMenu, function
CareerMenu, function
StartContest, function
SaveContest, function
LoadOldCompetitionMenu, function
EditCustomTeamMenu, function
ExitSelectTeams, function
abortSelectTeams, word
teamsType, word
choosingPreset, word
chosenTactics, word
diySelected, word
diyCompetitionMenu, PackedMenu

aEditTactics, array const char
aEditCustomTeam, array const char
aHighlights, array const char
aFriendly, array const char
aDiyCompetition, array const char
aPresetCompetit, array const char
aSeason, array const char
aCareer, array const char
saveFileTitle, array const char
aLoadOldCompeti, array const char
aReturnToGame, array const char

aHigh, array const char
aPreset, array const char
aTact, array const char
aDiy, array const char

InitCareerVariables, function
SetDefaultNameAndSurname, function
InitHighestScorersTable, function
InitUserTactics, function
ApplyTeamTactics, function

# select files menu
aAbort, array const char
aSave, array const char
g_skipNonCompetitionFiles, word

# options
ChangeGameLength, function
ChangePitchType, function
ChangeAutoReplays, function
ChangeAllPlTeamsEqual, function
ChangeAutoSaveHighlights, function
ChangeChairmanScenes, function
g_menuMusic, int16_t
g_musicOff, int16_t
g_gameLength, int16_t
g_autoReplays, int16_t
g_autoSaveHighlights, int16_t
g_allPlayerTeamsEqual, int16_t
g_pitchType, int16_t
g_commentary, int16_t
g_chairmanScenes, int16_t
g_spinBigS, int16_t
g_crowdChantsOn, int16_t

# options menu
ChangeCommentary, function
aOptions, array const char
aExit, array const char
aReplay, array const char
controlMask, word
aFriendlyDiyGam, array const char
aFixPitchType, array const char
aAutoReplays, array const char
aAllPlayerTeams, array const char
aAutoSaveHighli, array const char
gameLengthStrTable, void *
pitchTypeStrTable, void *
autoReplaysStrTable, void *
allPlTeamsEqualStrTable, void *
autoSaveHlStrTable, void *
chairmanScenesStrTable, void *
aOn, array const char
aOff, array const char
aMenuMusic, array const char
aCommentary, array const char
aPlus, array const char
aMinus, array const char
menuMusicStrTable, void *
commentaryStrTable, void *
aCustom, array const char
aOk, array const char
aCancel, array const char

# intro
aArcSoccer_bin, array const char
introCurrentSoundBuffer, char *
soccerBinSoundChunkBuffer, char *
soccerBinSoundDataPtr, char *
introCurrentSoundBufferChunk, char *
introScreenBuffer, char *
introAborted, byte
introFrameDataOffset, dword
introFirstChunkLoaded, byte
introNumFrames, dword
introFrameDataChunkRemainder, dword
introSoundBufferIndex, dword
introCurrentSoundBufferNum, byte
introFrameDataSize, dword
introCurrentFrameDataPtr, char *
introAnimationTimer, byte
introCountDownTimer, byte
introWaitInterval, byte
skipIntro, word

# sprites
spritesIndex, array SpriteGraphics *
g_spriteGraphicsPtr, SpriteGraphics **
team1SpritesTable, array Sprite * [11]
team2SpritesTable, array Sprite * [11]
bookedPlayer, Sprite *
ballSprite, Sprite
goal1TopSprite, Sprite
goal2BottomSprite, Sprite
big_S_Sprite, Sprite
ballShadowSprite, Sprite
goalie1Sprite, Sprite
team1Player2Sprite, Sprite
team1Player3Sprite, Sprite
team1Player4Sprite, Sprite
team1Player5Sprite, Sprite
team1Player6Sprite, Sprite
team1Player7Sprite, Sprite
team1Player8Sprite, Sprite
team1Player9Sprite, Sprite
team1Player10Sprite, Sprite
team1Player11Sprite, Sprite
goalie2Sprite, Sprite
team2Player2Sprite, Sprite
team2Player3Sprite, Sprite
team2Player4Sprite, Sprite
team2Player5Sprite, Sprite
team2Player6Sprite, Sprite
team2Player7Sprite, Sprite
team2Player8Sprite, Sprite
team2Player9Sprite, Sprite
team2Player10Sprite, Sprite
team2Player11Sprite, Sprite
team1CurPlayerNumSprite, Sprite
team2CurPlayerNumSprite, Sprite
playerMarkSprite, Sprite
bookedPlayerSprite, Sprite
refereeSprite, Sprite
cornerFlagSprite, Sprite

# pitch
pitchNumberAndType, word
g_pitchDatBuffer, array char[10032]
pitchBallSpeedFactor, word

# highlights
RestoreHighlightPointers, function
HandleInstantReplayStateSwitch, function
FadeAndSaveReplay, function
ViewHighlights, function
SetHilFileHeader, function
hilStartOfGoalsBuffer, array char
hilFileBuffer, array char
hilFilename, array char[256]
currentHilBuffer, array dword
goalBasePtr, dword *
currentGoalPtr, dword *
nextGoalPtr, dword *
currentHilPtr, dword *
instantReplayFlag, word
hilNumGoals, word
hilLeftTeamGoals, word
hilRightTeamGoals, word
replayState, word
hilSceneNumber, word
numReplaysInHilFile, word
playHighlightFlag, word
userRequestedReplay, word
fadeAndSaveReplay, word
gameMinSubstitutes, word
gameMaxSubstitutes, word
hilMaxSubstitutes, word
hilStarted, word
saveHighlights, word
spaceReplayTimer, word

# highlights menu
aViewHighlights, array const char
aLoadHighlights, array const char
aSaveHighlights, array const char
aNotAHighlights, array const char

# camera
RestoreCameraPosition, function
g_cameraX, word
g_cameraXFraction, word
g_cameraY, word
g_cameraYFraction, word
g_oldCameraX, word
g_oldCameraY, word
savedCameraX, word
savedCameraY, word
cameraCoordinatesValid, word
cameraDirection, word
cameraXVelocity, int16_t
cameraYVelocity, int16_t
breakCameraMode, word

# comments
g_muteCommentary, word
commentaryTable, array const char *
aHardM10_v__raw, array const char
aHardM10_w__raw, array const char
aHardM10_y__raw, array const char
aHardM313_1__ra, array const char
aHardM313_2__ra, array const char
aHardM313_3__ra, array const char
aHardM10_5__raw, array const char
aHardM10_7__raw, array const char
aHardM10_8__raw, array const char
aHardM10_9__raw, array const char
aHardM10_a__raw, array const char
aHardM10_b__raw, array const char
aHardM233_j__ra, array const char
aHardM233_k__ra, array const char
aHardM233_l__ra, array const char
aHardM233_m__ra, array const char
aHardM10_3__raw, array const char
aHardM10_4__raw, array const char
aHardM196_8__ra, array const char
aHardM196_9__ra, array const char
aHardM196_a__ra, array const char
aHardM196_b__ra, array const char
aHardM196_c__ra, array const char
aHardM196_d__ra, array const char
aHardM196_e__ra, array const char
aHardM196_f__ra, array const char
aHardM196_g__ra, array const char
aHardM196_h__ra, array const char
aHardM196_i__ra, array const char
aHardM196_j__ra, array const char
aHardM406_f__ra, array const char
aHardM406_g__ra, array const char
aHardM406_h__ra, array const char
aHardM406_i__ra, array const char
aHardM406_j__ra, array const char
aHardM443_7__ra, array const char
aHardM443_8__ra, array const char
aHardM443_9__ra, array const char
aHardM443_a__ra, array const char
aHardM443_b__ra, array const char
aHardM443_c__ra, array const char
aHardM443_d__ra, array const char
aHardM443_e__ra, array const char
aHardM443_f__ra, array const char
aHardM443_g__ra, array const char
aHardM443_h__ra, array const char
aHardM443_i__ra, array const char
aHardM443_j__ra, array const char
aHardM406_3__ra, array const char
aHardM406_8__ra, array const char
aHardM406_7__ra, array const char
aHardM406_9__ra, array const char

playingYellowCardTimer, int16_t
playingRedCardTimer, int16_t
playingGoodPassTimer, int16_t
playingThrowInSample, int16_t
playingCornerSample, int16_t
substituteSampleTimer, int16_t
tacticsChangedSampleTimer, int16_t
goalCounter, int16_t

goodPassTimer, word
soundEffectsTable, array const char *
introTeamChantsTable, array const char *
loadCrowdChantSampleFlag, word

performingPenalty, word
penaltiesState, int16_t

resultChantFilenames, array const char *
endGameCrowdSamples, array const char *

# bench
SetAnimationTable, function
GoalkeeperClaimedTheBall, function
StopAllPlayers, function
bench1Called, word
bench2Called, word
g_inSubstitutesMenu, word
g_substituteInProgress, int16_t
plComingX, word
plComingY, word
hideBallShadow, word
playerNormalStandingAnimTable, AnimationTable
stoppageTimerTotal, word
stoppageTimerActive, word
pl1Tactics, word
pl2Tactics, word
positionsTable, PositionsTable
playerPositionsStringTable, array const char *
teamThatSubstitutes, TeamGeneralInfo *
substitutedPlSprite, Sprite *
substitutedPlDestX, word
substitutedPlDestY, word
plSubstitutedX, word
plSubstitutedY, word
g_tacticsTable, array TeamTactics * [18]

# current player indicator
GetSurname, function
currentPlayerNameSprite, Sprite
nobodysBallTimer, word

# fades & palettes
FadeIn, function
skipFade, word
g_workingPalette, array char[768]

# memory buffers
dosMemOfs30000h, char *
dosMemOfs4fc00h, char *
dosMemOfs60c00h, char *
linAdr384k, char *

# game loop
SetPitchTypeAndNumber, function
UpdateStatistics, function
UpdateBall, function
MovePlayers, function
DrawReferee, function
SetCornerFlagSprite, function
DoGoalKeeperSprites, function
DrawControlledPlayerNumbers, function
MarkPlayer, function
BookPlayer, function
SaveHighlight, function
frameCount, word
goIntoHighlightsLoop, word
goalCameraMode, word
isGameFriendly, word
team1NumAllowedInjuries, word
team2NumAllowedInjuries, word

# game
RunStoppageEventsAndSetAnimationTables, function
UpdateControlledPlayer, function
UpdatePlayerBeingPassedTo, function
UpdatePlayersAndBall, function
whichCard, word
refVar, word
lastTeamBooked, TeamGeneralInfo *
currentScorer, Sprite *
lastTeamScored, TeamGeneralInfo *
lastPlayerPlayed, Sprite *
lastPlayerBeforeGoalkeeper, Sprite *
penalty, word

# result
resultTimer, int16_t
resultOnHalftimeSprite, Sprite
resultAfterTheGameSprite, Sprite
dashSprite, Sprite
gridUpperRowLeftSprite, Sprite
gridUpperRowRightSprite, Sprite
gridMiddleRowLeftSprite, Sprite
gridMiddleRowRightSprite, Sprite
gridBottomRowLeftSprite, Sprite
gridBottomRowRightSprite, Sprite
team1NameSprite, Sprite
team2NameSprite, Sprite
team1GoalsDigit1Sprite, Sprite
team1GoalsDigit2Sprite, Sprite
team1TotalGoalsDigit1Sprite, Sprite
team1TotalGoalsDigit2Sprite, Sprite
team2GoalsDigit1Sprite, Sprite
team2GoalsDigit2Sprite, Sprite
team2TotalGoalsDigit1Sprite, Sprite
team2TotalGoalsDigit2Sprite, Sprite
team1Scorer1Sprite, Sprite
team2Scorer1Sprite, Sprite

# goals
team1TotalGoals, word
team2TotalGoals, word
statsTeam1Goals, word
statsTeam2Goals, word
statsTeam1GoalsCopy, word
statsTeam2GoalsCopy, word
team1GoalsFirstLeg, word
team2GoalsFirstLeg, word
team1GoalsDigit1, word
team1GoalsDigit2, word
team2GoalsDigit1, word
team2GoalsDigit2, word
team1PenaltyGoals, word
team2PenaltyGoals, word

# teams
topTeamIngame, TeamGame
bottomTeamIngame, TeamGame
topTeamPtr, TeamGame *
bottomTeamPtr, TeamGame *
topTeamData, TeamGeneralInfo
bottomTeamData, TeamGeneralInfo
lastTeamPlayed, TeamGeneralInfo *
lastTeamPlayedBeforeBreak, TeamGeneralInfo *
teamDataPtr, TeamGeneralInfo *
chooseTacticsTeamPtr, void *
winningTeamPtr, TeamGame *
team1StatsData, TeamStatsData
team2StatsData, TeamStatsData
teamPlayingUp, word
teamStarting, word

# must not get alignment, it's inside the load competition buffer
selTeamsPtr, dword (align: 1)

# init match
playerCardChance, word
gameRandValue, word
ballSpeedBounceFactor, word
ballBounceFactor, word
dontShowScorers, word
statsTimeout, int16_t
showStats, word
showingStats, word
g_cameraLeavingSubsTimer, word
g_waitForPlayerToGoInTimer, word
team1NumSubs, word
team2NumSubs, word
team1GoalkeeperReplaced, word
team2GoalkeeperReplaced, word
showFansCounter, word
isGoalAttempt, word

# random number generator
randomSeed, word
seed, byte
randomTable, array byte[256]

# misc
Randomize2, function
ReadTimerDelta, function
MainKeysCheck, function
ZeroOutStars, function
CopyTeamsAndHeader, function
StartingMatch, function

stadiumMenu, PackedMenu
setupDatBuffer, word
aSensibleWorldOfSoccerV2_0, array const char
partOneImages, array const char *
partTwoImages, array const char *
useIndividualPlayerSkinColor, word
vsPtr, char *
screenWidth, dword
skillsPerQuadrant, array char[245]
currentTick, word
paused, word
stoppageTimer, word
lastStoppageTimerValue, word
timerBoolean, word
bumpBigSFrame, word
aChairmanScenes, array const char
g_soundOff, int16_t
g_memAllOk, word
g_gotExtraMemoryForSamples, word
g_midiPlaying, word
animPatternsState, word
normalReplayRunning, word
playGame, word
smallCharsTable, CharTable
bigCharsTable, CharTable
twoPlayers, word
flipOnOff, word
inFriendlyMenu, word
isNationalTeam, word
fireResetFlag, word
dseg_10E848, word
dseg_10E846, word
dseg_11F41C, word
coachOrPlayer, word
plNationality, byte
competitionOver, word
teamsLoaded, word
poolplyrLoaded, word
importTacticsFilename, array char[256]
g_trainingGame, word
# careful, a member of load competition buffer here
trainingGameCopy, word (align: 1)

g_exitGameFlag, word
gameCanceled, word
isCareer, word
careerTeam, array char[1292]
replaySelected, word

# play match menu
playerNumThatStarted, word
careerTeamSetupDone, word
isFirstPlayerChoosingTeam, word
playMatchTeam1Ptr, TeamFile *
playMatchTeam2Ptr, TeamFile *
squadChangesAllowed, word

BumpAllPlayersLastPlayedHalfAtGameStart, function
BumpAllPlayersLastPlayedHalfPostGame, function
StartPenalties, function
gameStatePl, GameState
gameState, GameState
playingPenalties, word
stateGoal, word
secondLeg, word
playing2ndGame, word

# time
EndFirstHalf, function
EndFirstExtraTime, function
EndOfGame, function
StartFirstExtraTime, function
currentTimeSprite, Sprite
timerDifference, word
timeDelta, word
extraTimeState, word
gameSeconds, int16_t
secondsSwitchAccumulator, int16_t
gameTime, array byte[4]
ingameGameLength, word

# update ball
goalScored, word
runSlower, word
lastTeamScoredNumber, word
lastPlayerScored, Sprite *
goalTypeScored, word

# keep these so the competition buffer integrity static assert could work
competitionFileBuffer, word
g_selectedTeams, array char[68400]

### debug dump
#AI_attackHalf, word


#
# at the beginning of each listed proc Foo insert a call to external Foo_OnEnter
#

@on-enter
MainKeysCheck
ShowStadiumInit


#
# insert a call to given C++ function into a proc at a given line
# in the form: <proc name>, <line number>[, <hook name>]
#
# if <hook_name> is not given a default name will be generated in the form of: <proc name>_<line number>
# it's effectively an import entry
#
# special hook name @remove can be used to remove lines
#

@insert-hook
AdjustPlayerSkills, 246, FixTwoCPUsGameCrash
ViewOpponentsSelect, 66, RecalculateReachableEntries
ReturnFromViewOpponent, 9, RecalculateReachableEntries

CheckIfBallOutOfPlay, 252, FixPenaltyBug
PlayerDoingHeader, 161, PlayHeaderComment
PlayerTackled, 59, PlayInjuryComment
RunStoppageEventsAndSetAnimationTables, 339, EnqueueCrowdChantsReload


#
# list of symbols (functions) that will be replaced by the C++ code
# it is assumed to be a label in assembly, and a parameterless function in C++, returning void or int
# they'll go to SWOS namespace to avoid name clashes
#

@import
WaitRetrace
Flip
DrawAnimatedPatterns
Rand

# files
LoadFile, int
WriteFile, int
GetFilenameAndExtension, int
SelectFileToSaveDialog, int

# main menu
LoadFillAndSwtitle

# menus
MenuCheckControls
ShowMenu
DrawMenu
DrawMenuItem
ActivateMenu
SetCurrentEntry

# controls
Player1StatusProc
Player2StatusProc

# game
ToMainGameLoop
GoalScored

# sprites/game graphics
DrawSprites
InitDisplaySprites
CopySprite
DrawStatistics
ScrollToCurrent

# init game
InitGameSaveTeams
InitGameRestoreTeams

# text
InputText
GetTextSize
GetKey

# music
StopAudio
CycleMenuMusic
TryMidiPlay

# intro
IntroEnsureFrameDataLoaded
IntroDrawFrame
CloseSoccerBin

# replays
PlayHighlightsLoop
ReplayFrame
PlayInstantReplayLoop
SaveCoordinatesForHighlights
ViewHighlightsWrapper

# current player indicator
SetCurrentPlayerName
SwapPlayerNameData

OptionsMenuSelected
PlayMatchSelected

# commentary/sfx
LoadSoundEffects
PlayPenaltyGoalComment
PlayPenaltyMissComment
PlayPenaltySavedComment
PlayPenaltyComment
PlayFoulComment
PlayDangerousPlayComment
PlayGoodPassComment
PlayGoodTackleComment
PlayPostHitComment
PlayBarHitComment
PlayKeeperClaimedComment
PlayNearMissComment
PlayGoalkeeperSavedComment
PlayOwnGoalComment
PlayGoalComment
PlayYellowCardSample
PlayRedCardSample
PlayCornerSample
PlayTacticsChangeSample
PlaySubstituteSample
PlayThrowInSample
PlaySensationalGameComment
PlayCrowdNoiseSample
PlayMissGoalSample
PlayHomeGoalSample
PlayAwayGoalSample
PlayRefereeWhistleSample
PlayEndGameWhistleSample
PlayFoulWhistleSample
PlayKickSample
PlayBallBounceSample
LoadAndPlayEndGameComment
PlayFansChant8lSample
PlayFansChant10lSample
PlayIntroChantSample
PlayResultSample
TurnCrowdChantsOn
TurnCrowdChantsOff
PlayDrawComment
PlayItsBeenACompleteRoutComment
PlayCrowdChants

EndProgram
StartMainGameLoop
ReplayExitMenuAfterFriendly
Int2Ascii
ExitEuropeanChampionshipMenu

#
# Let ida2asm know about the sizes of types used in the export section so it can generate offsets properly.
#

@type-sizes
PackedMenu, 16
GameState, 2
TeamStatsData, 14
FixedPoint, 4
AnimationTable, 130
PositionsTable, 72
